[TOC]

# 多维度分析CDN

我在《[神论](https://github.com/zeusro/God-Theory)》里提到过升维这一说法。升维的另一种解读是根据自变量分析结果，以及如何根据结果溯因分析，最后再反过来，为自己制造最大的边际收益。

说句人话，就是**寻求使用CDN的更优策略**。

## 前情概要

关于这个问题，我之前写过一些文章。但我想从博弈论角度重新看待这个问题。

[1]
[用「超装逼」排查CDN流量剧增问题]
http://www.bullshitprogram.com/super-b/

[2]
多公有云CDN最佳实践
http://www.zeusro.com/2019/09/20/cdn-pickup/


## 各大公有云大致价格（2019年）


平台 | 单价|备注
---|---|---
阿里云 | 0.107421875 元/gb|2.2万 200T,110元/TB
华为云 | 0.15 元/gb|
联通|.21~.27 元/gb|七折
网宿|0.2 元/gb (60T/月）<br /> 0.3 元/gb(0~100TB/月) <br /> 0.23元/gb (100~200TB/月)|看月消费量

阿里云还收`静态HTTPS请求数`费用，如果买28000元-100亿次的套餐，价格就是280元/亿次。

具体可看

CDN详细价格信息
https://www.aliyun.com/price/product?spm=5176.7933777.598288.btn3.39bd56f5nXkfXK#/cdn/detail

## 一维

> 一维世界的定义：用户的预算

P均衡=0。意思是说最好是0的预算就能够无限使用CDN。

## 二维

> 二维世界的定义：用户的预算+CDN厂商

在一维的基础上，加入CDN厂商（阿里云，网宿，腾讯云）

在该二维世界里面，P均衡=用户和CDN厂商的均衡。也就是说从用户角度上看，就是最少的预算，使用最多的流量；从厂商角度上看，就是稳定而持续的净利润。

网宿靠约定期限的合同（一般是一年制，每季度后付费）锁定了用户；而阿里云靠表面低廉的价格+其他云产品的绑定的锁定用户。比如，阿里云有个产品叫做OSS，如果你用的是阿里云CDN，那么回源OSS很简单，点点几下就OK。但是之所以说阿里云是表面低廉，是因为他还有一个HTTPS请求数计费。如果一个网站请求数很多，带宽也高，那么使用阿里云CDN的成本就相当高。

这就是阿里云鸡贼的地方，靠培养用户粘性，在未来挣更多的钱。

这里引用某位牛逼网友的话：
> 我说的主要是指静态资源刷流量，cloudflare的策略是被攻击后客户几乎不需付费，攻击者也就没有什么意义，从而以后大家看到用cloudflare就会打消刷它的想法，形成一个良性循环。而阿里cdn，一被刷，客户会破产，攻击者目的也就达到了，以后看到是阿里cdn就知道可以刷，是一个恶性循环。

最后再回到用户维度。对于用户来说，必定只能采取混合策略。我的策略是阿里云按流量计费，小流量动态网站（<100 Mbps）在网宿按带宽计费。

## 三维

> 三维世界的定义：用户的预算+CDN厂商+三网

问了一下我联通的朋友，他说共有云厂商主要是用三网（电信，移动，联通）的资源。所以，CDN厂商相当于是三网的资（二）源（道）整（贩）合（子）。

即便三网的费用固定不变，随着时间的推移，人力和机器的成本，也会迫使国内公有云厂商不断涨价。

CDN厂商+三网背后的监管层都是国家。所以继续升维。

## 四维

> 四维世界的定义：用户的预算+CDN厂商+三网+国家

三网或多或少跟国家都有那么点关系。但即便国家通过行政手段降低了三网对商用线路的带宽费用。还有CDN厂商这个二道贩子卡在那里。厂商要增量利润，所以纳入国家也没有用。

也就是说，四维世界坍塌。不存在P均衡。

CDN厂商+三网背后的监管层都是国家，所以这里合二为一，降到超二维。

## 超二维

> 超二维世界的定义：用户的预算+国家

如果要促进国内信息技术的发展，必须要降低商用带宽的成本。

最优解只能是国家通过工信部出面，整合三网的带宽资源，成立类似铁塔的合资商业公司。面向商用用户收费。

## 结论

死ね，XX云！

